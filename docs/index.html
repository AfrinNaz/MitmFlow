<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MitmFlow – Browser Extension UI Demo</title>
  <style>
    body {
      font-family: system-ui, Arial, sans-serif;
      margin: 20px;
      max-width: 980px;
    }

    h2 { margin-bottom: 8px; }

    .subtext {
      margin-top: 0;
      color: #444;
      line-height: 1.45;
    }

    .note {
      margin: 12px 0 18px;
      padding: 10px 12px;
      border: 1px solid #e6e6e6;
      background: #fafafa;
      border-radius: 8px;
      color: #333;
    }

    .row {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      align-items: flex-start;
    }

    /* Toast */
    .toast {
      background: #202124;
      color: white;
      padding: 12px 14px;
      border-radius: 10px;
      width: 260px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.12);
      margin-bottom: 14px;
    }
    .toast-title {
      font-weight: 800;
      font-size: 16px;
      margin-bottom: 4px;
      letter-spacing: 0.2px;
    }
    .toast-body {
      font-size: 13px;
      opacity: 0.92;
      line-height: 1.35;
    }

    /* Popup */
    .popup {
      border: 1px solid #dcdcdc;
      padding: 14px;
      width: 320px;
      border-radius: 12px;
      background: #fff;
      box-shadow: 0 10px 22px rgba(0,0,0,0.06);
    }

    .popup h3 {
      margin: 0 0 12px 0;
      font-size: 18px;
      font-weight: 800;
    }

    .alert {
      background: #f5f5f5;
      padding: 10px 10px;
      border-radius: 10px;
      border: 1px solid #e7e7e7;
    }

    .type {
      color: #d93025;
      font-weight: 800;
      font-size: 16px;
      margin-bottom: 4px;
    }

    .masked {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 14px;
      color: #111;
    }

    .meta {
      margin-top: 8px;
      font-size: 12px;
      color: #666;
      line-height: 1.35;
    }

    /* Demo controls */
    .controls {
      margin-top: 12px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    button {
      border: 1px solid #d0d0d0;
      background: #fff;
      padding: 8px 10px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
    }

    button:hover {
      background: #f7f7f7;
    }

    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #ddd;
      font-size: 12px;
      margin-left: 8px;
      color: #444;
      vertical-align: middle;
    }

    /* Small footer text */
    .footer {
      margin-top: 18px;
      color: #666;
      font-size: 12.5px;
      line-height: 1.4;
    }

    a { color: #0b57d0; }
  </style>
</head>
<body>

  <h2>MitmFlow – Browser Extension UI Demo <span class="badge">UI simulation</span></h2>
  <p class="subtext">
    This page is a <strong>UI simulation</strong> of the MitmFlow browser extension alerts.
    <strong>No real network traffic is analyzed</strong> here.
  </p>

  <div class="note">
    <strong>What this demo shows:</strong> how alerts appear to users (toast + extension popup) for
    <strong>Email</strong>, <strong>Phone</strong>, and <strong>Address</strong> detections.
  </div>

  <div class="row">
    <div>
      <!-- Toast -->
      <div class="toast" id="toastBox">
        <div class="toast-title" id="toastTitle">Network leak detected</div>
        <div class="toast-body" id="toastBody">Sensitive personal data was detected in an outgoing request.</div>
      </div>

      <!-- Controls -->
      <div class="controls">
        <button onclick="setDemo('phone')">Show Phone Alert</button>
        <button onclick="setDemo('email')">Show Email Alert</button>
        <button onclick="setDemo('address')">Show Address Alert</button>
      </div>
    </div>

    <!-- Popup UI -->
    <div class="popup">
      <h3>Privacy Simple Watcher</h3>
      <div class="alert">
        <div class="type" id="alertType">Phone</div>
        <div class="masked" id="alertMasked">******1234</div>
        <div class="meta" id="alertMeta">
          Example only (masked value). This page does not inspect real traffic.
        </div>
      </div>

      <div class="footer">
        Source code and full tool implementation are available in the MitmFlow GitHub repository.
      </div>
    </div>
  </div>

  <script>
    // Demo alert examples (masked)
    const DEMOS = {
      phone: {
        type: "Phone",
        masked: "******1234",
        meta: "Example: masked phone number detected in an outgoing request."
      },
      email: {
        type: "Email",
        masked: "a*****n@gmail.com",
        meta: "Example: masked email address detected in an outgoing request."
      },
      address: {
        type: "Address",
        masked: "K1A *B1",
        meta: "Example: masked Canadian postal code detected (address indicator)."
      }
    };

    function setDemo(kind) {
      const d = DEMOS[kind] || DEMOS.phone;

      // Popup
      document.getElementById("alertType").textContent = d.type;
      document.getElementById("alertMasked").textContent = d.masked;
      document.getElementById("alertMeta").textContent = d.meta;

      // Toast (generic, similar to your real content.js behavior)
      document.getElementById("toastTitle").textContent = "Network leak detected";
      document.getElementById("toastBody").textContent = "A potential " + d.type.toLowerCase() + " leak was detected.";

      // Quick animation (simple)
      const toast = document.getElementById("toastBox");
      toast.style.transform = "scale(0.98)";
      toast.style.opacity = "0.92";
      setTimeout(() => {
        toast.style.transform = "scale(1)";
        toast.style.opacity = "1";
      }, 120);
    }

    // Default view
    setDemo("phone");
  </script>

</body>
</html>
